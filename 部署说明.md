# 🚀 部署说明 - Vercel

## ✅ 构建状态
项目已成功构建，可以部署！

## 📦 部署方式

### 方式1：通过 Vercel 网站部署（推荐）

1. **访问 Vercel**
   - 打开 https://vercel.com
   - 使用 GitHub 账号登录

2. **导入项目**
   - 点击 "Add New Project"
   - 选择你的 GitHub 仓库 `OneBk`
   - Vercel 会自动检测 Next.js 项目

3. **配置项目**
   - **Framework Preset**: Next.js（自动检测）
   - **Root Directory**: `./`
   - **Build Command**: `npm run build`（自动）
   - **Output Directory**: `.next`（自动）
   - **Install Command**: `npm install`（自动）

4. **环境变量**（如果需要）
   - 在项目设置中添加环境变量
   - 目前项目不需要额外的环境变量

5. **部署区域**
   - 已配置：`hkg1` (香港)
   - 可在 `vercel.json` 中修改

6. **点击 Deploy**
   - 等待构建完成
   - 部署成功后会自动获得 URL

---

### 方式2：使用 Vercel CLI 部署

#### 安装 Vercel CLI
```bash
npm install -g vercel
```

#### 登录 Vercel
```bash
vercel login
```

#### 部署
```bash
# 部署到预览环境
vercel

# 部署到生产环境
vercel --prod
```

---

## ⚙️ 部署配置

### `vercel.json` 配置说明
```json
{
  "framework": "nextjs",           // 框架类型
  "buildCommand": "npm run build",  // 构建命令
  "devCommand": "npm run dev",      // 开发命令
  "installCommand": "npm install",  // 安装命令
  "regions": ["hkg1"],              // 部署区域（香港）
  "headers": [...]                  // 安全头配置
}
```

### 部署区域选项
- `hkg1` - 香港（当前配置）
- `sin1` - 新加坡
- `sfo1` - 旧金山
- `iad1` - 华盛顿
- 更多区域：https://vercel.com/docs/concepts/edge-network/regions

---

## 🔧 部署前检查清单

- [x] ✅ 项目构建成功 (`npm run build`)
- [x] ✅ `vercel.json` 配置正确
- [x] ✅ `.vercelignore` 已配置
- [ ] ⏳ Git 仓库已推送到 GitHub
- [ ] ⏳ 在 Vercel 中连接 GitHub 仓库

---

## 📝 Git 提交和推送

如果需要提交更改并推送到 GitHub：

```bash
# 查看更改
git status

# 添加所有更改
git add .

# 提交更改
git commit -m "优化：全局性能优化，达到200+ FPS"

# 推送到 GitHub
git push origin main
```

**注意**：如果遇到代理问题，请按照之前的说明处理。

---

## 🌐 部署后的访问

部署成功后，你会获得：
- **生产环境 URL**: `https://your-project.vercel.app`
- **预览环境 URL**: `https://your-project-xxx.vercel.app`

---

## 🔍 部署后验证

1. **检查网站是否正常加载**
2. **检查性能指标**
   - 打开 Chrome DevTools
   - 查看 FPS（应该达到200+）
3. **检查功能**
   - 菜单栏功能
   - 动画效果
   - 滚动性能
   - 每日一言功能

---

## 🛠️ 故障排除

### 构建失败
- 检查 `next.config.js` 配置
- 检查依赖是否完整 (`npm install`)
- 查看 Vercel 构建日志

### 部署后页面错误
- 检查环境变量
- 检查 API 路由
- 查看浏览器控制台错误

### 性能问题
- 检查 Vercel Analytics
- 使用 Lighthouse 测试
- 检查网络请求

---

## 📚 相关资源

- [Vercel 文档](https://vercel.com/docs)
- [Next.js 部署文档](https://nextjs.org/docs/deployment)
- [Vercel CLI 文档](https://vercel.com/docs/cli)

---

**准备好了吗？现在就部署吧！** 🚀
