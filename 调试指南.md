# 🔧 本地调试指南

## 🚀 启动开发服务器

### 方法1：正常启动
```bash
npm run dev
```

### 方法2：指定端口（如果3000被占用）
```bash
npm run dev -- -p 3001
```

### 方法3：清除缓存后启动
```bash
# 清除缓存
Remove-Item -Path .next -Recurse -Force

# 重新启动
npm run dev
```

## ❌ 常见问题解决

### 1. 端口被占用 (EADDRINUSE)

**错误信息：**
```
Error: listen EADDRINUSE: address already in use ::1:3000
```

**解决方法：**

#### Windows PowerShell:
```powershell
# 查找占用端口的进程
netstat -ano | findstr :3000

# 停止进程（替换PID为实际进程ID）
taskkill /F /PID <进程ID>

# 或者直接停止所有Node进程
taskkill /F /IM node.exe
```

#### 或者使用不同端口：
```bash
npm run dev -- -p 3001
```

### 2. 构建错误

**清除缓存并重新构建：**
```bash
# 清除Next.js缓存
Remove-Item -Path .next -Recurse -Force

# 清除node_modules（如果问题严重）
Remove-Item -Path node_modules -Recurse -Force
npm install

# 重新启动
npm run dev
```

### 3. 浏览器无法访问

**检查：**
1. 确认服务器已启动（查看终端输出）
2. 确认端口号正确（默认3000）
3. 尝试访问：`http://localhost:3000`
4. 检查防火墙设置
5. 尝试清除浏览器缓存（Ctrl+F5）

### 4. 热更新不工作

**解决方法：**
```bash
# 停止服务器（Ctrl+C）
# 清除缓存
Remove-Item -Path .next -Recurse -Force

# 重新启动
npm run dev
```

### 5. TypeScript错误

**检查类型错误：**
```bash
npm run build
```

**如果构建失败，查看具体错误信息并修复**

## 🔍 调试技巧

### 1. 查看服务器日志
开发服务器启动后，终端会显示：
- 编译状态
- 错误信息
- 访问日志

### 2. 浏览器开发者工具
- 按 `F12` 打开开发者工具
- 查看 Console 面板的错误信息
- 查看 Network 面板的网络请求
- 查看 Performance 面板的性能指标

### 3. 检查终端输出
- 编译错误会在终端显示
- 运行时错误会在终端显示
- 注意红色的错误信息

## 📝 快速检查清单

- [ ] Node.js 已安装 (`node --version`)
- [ ] 依赖已安装 (`npm install`)
- [ ] 端口3000未被占用
- [ ] `.next` 目录可以正常生成
- [ ] 浏览器可以访问 `http://localhost:3000`
- [ ] 终端没有错误信息

## 🛠️ 完整重置步骤

如果遇到严重问题，可以完全重置：

```bash
# 1. 停止所有Node进程
taskkill /F /IM node.exe

# 2. 清除缓存
Remove-Item -Path .next -Recurse -Force

# 3. 清除依赖（可选）
Remove-Item -Path node_modules -Recurse -Force

# 4. 重新安装依赖
npm install

# 5. 重新启动
npm run dev
```

## 🌐 访问地址

- **开发服务器**: `http://localhost:3000`
- **如果使用其他端口**: `http://localhost:<端口号>`

---

**如果以上方法都无法解决问题，请提供具体的错误信息！** 🔧
